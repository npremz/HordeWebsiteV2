---
import Layout from '../layouts/Layout.astro';
import BackgroundCanvas from '../components/ui/BackgroundCanvas.astro';
import HeroSection from '../components/sections/HeroSection.astro';
import MethodSection from '../components/sections/MethodSection.astro';
import ExperienceSection from '../components/sections/ExperienceSection.astro';
import ServiceSection from '../components/sections/ServiceSection.astro';
import Footer from '../components/Footer.astro';
import { createReader } from '@keystatic/core/reader';
import keystaticConfig from '../../keystatic.config';

const reader = createReader(process.cwd(), keystaticConfig);
const siteSettings = await reader.singletons.siteSettings.read();

const title = siteSettings?.homepageTitle || 'Horde';
const description = siteSettings?.defaultDescription || 'Agence web spécialisée en performance et UX.';
---

<Layout
  title={title}
  description={description}
  siteNameAsPrefix={true}
>
  <BackgroundCanvas triggerDistance={500} topOffset={1100} triggerDistanceBottom={500} bottomOffset={-550} />

  <HeroSection
    titleLine1="Nous\nconcevons"
    titleLine2="des"
    titleLine3="interfaces\nultra rapides"
    subtitle="Agence Digitale & UX"
    ctaLabel="Notre methode"
  />

  <div id="page-content">
    <section class="pt-128">
      <MethodSection
        title="<span>Nos 03</span><span>méthodes</span>"
        stepsCount="03"
        steps={[
          'Eliminer les frictions pénalisantes',
          'Maximiser les conversions',
          'Soigner l’expérience utilisateur',
        ]}
      />
      <ExperienceSection
        label="L'experience\nest la clé"
        headline="Le design attire,\nl'expérience retient."
        description="Nous créons des interfaces intuitives qui répondent aux intentions de vos utilisateurs."
      />
    </section>
    <section class="mt-24 sm:mt-32 lg:mt-96">
      <ServiceSection />
    </section>
  </div>
  <Footer />
</Layout>
