@import "tailwindcss";

@font-face {
  font-family: 'PP Neue Montreal';
  src: url('../assets/fonts/PPNeueMontreal-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'PP Neue Machina';
  src: url('../assets/fonts/PPNeueMachina-Light.woff2') format('woff2');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'PP Fraktion Mono';
  src: url('../assets/fonts/PPFraktionMono-Light.woff2') format('woff2');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'PP Neue Bit';
  src: url('../assets/fonts/PPNeueBit-Weather.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
  unicode-range: U+0030-0039, U+00B0, U+2600-2602, U+26A1, U+26C5, U+2744;
}

:root {
  --gutter: 1rem;
}

@media only screen and (min-width: 640px) {
  :root {
    --gutter: 2rem
  }
}

@media only screen and (min-width: 1024px) {
  :root {
    --gutter: 6rem
  }
}

@media only screen and (min-width: 1512px) {
  :root {
    --gutter: 8rem
  }
}

@theme {
  --breakpoint-sm: 640px;
  --breakpoint-md: 1024px;
  --breakpoint-slg: 1256px;
  --breakpoint-lg: 1512px;
  --breakpoint-xl: 1920px;
  --breakpoint-2xl: 2560px;

  --color-bg: #D0CDCB;
  --color-bg-light: #F4F3F3;
  --color-black: #222121;
  --color-lines: #B1B1B1;
  --color-lines-dark: #4C4B4B;
  --color-err: #FF5858;
  --spacing-lines: calc(100% + 2 * var(--gutter));

  --font-sans: 'PP Neue Montreal', system-ui, sans-serif;
  --font-mono: 'PP Fraktion Mono', monospace;
  --font-display: 'PP Neue Machina', system-ui, sans-serif;
}

@layer base {
  html {
    font-family: var(--font-sans);
    font-size: 1rem;
    line-height: 1.414;
    color: var(--color-black);
    overflow-x: clip;

    /* Scrollbar normalisée - Firefox */
    scrollbar-width: thin;
    scrollbar-color: var(--color-lines) transparent;
  }

  /* Scrollbar normalisée - Webkit (Chrome, Safari, Edge) */
  html::-webkit-scrollbar {
    width: 8px;
  }

  html::-webkit-scrollbar-track {
    background: transparent;
  }

  html::-webkit-scrollbar-thumb {
    background-color: var(--color-lines);
    border-radius: 4px;
  }

  html::-webkit-scrollbar-thumb:hover {
    background-color: var(--color-black);
  }

  /* Focus styles for accessibility (WCAG 2.1 AA) */
  :focus {
    outline: none;
  }

  :focus-visible {
    outline: 2px solid var(--color-black);
    outline-offset: 2px;
  }

  /* Dark mode focus style */
  .bg-black :focus-visible,
  [data-theme="dark"] :focus-visible {
    outline-color: var(--color-bg-light);
  }

  /* View Transitions */
  @keyframes fade-in {
    from {
      opacity: 0;
    }
  }

  @keyframes fade-out {
    to {
      opacity: 0;
    }
  }

  @keyframes slide-from-right {
    from {
      transform: translateX(30px);
    }
  }

  @keyframes slide-to-left {
    to {
      transform: translateX(-30px);
    }
  }

  ::view-transition-old(root) {
    animation: 90ms cubic-bezier(0.4, 0, 1, 1) both fade-out;
  }

  ::view-transition-new(root) {
    animation: 210ms cubic-bezier(0, 0, 0.2, 1) 90ms both fade-in;
  }
}

body {
  margin: 0;
  font-size: 1.25rem;
  overflow-x: clip;
}

/* ==========================================
   REUSABLE UTILITY CLASSES
   ========================================== */

@layer components {
  /* -----------------------------------------
     Typography
     ----------------------------------------- */

  /* Section headers - monospace uppercase labels */
  .section-label {
    @apply font-mono text-[1rem] uppercase;
  }

  /* Display headings - large decorative titles */
  .heading-display {
    @apply font-display uppercase leading-[1.2];
  }

  .heading-display-sm {
    @apply font-display uppercase leading-[1.2] text-[1.625rem] sm:text-4xl lg:text-5xl xl:text-[3.5rem];
  }

  .heading-display-lg {
    @apply font-display uppercase leading-[1.2] text-[1.625rem] md:text-4xl lg:text-[2.5rem] xl:text-[3.5rem];
  }

  /* Footer/card link text sizing */
  .text-link-lg {
    @apply text-xl md:text-2xl xl:text-[2rem];
  }

  /* -----------------------------------------
     Interactive Elements
     ----------------------------------------- */

  /* Standard link hover effect */
  .link-hover {
    @apply hover:opacity-70 transition-opacity duration-300;
  }

  /* CTA link hover effect (subtler) */
  .link-hover-subtle {
    @apply hover:opacity-90 transition-opacity duration-300;
  }

  /* -----------------------------------------
     Spacing
     ----------------------------------------- */

  /* Standard vertical section spacing */
  .section-spacing {
    @apply mt-10 sm:mt-16 lg:mt-18 xl:mt-24;
  }

  /* Standard gap for flex columns */
  .column-gap {
    @apply gap-4 md:gap-8;
  }

  /* Standard gap for section content */
  .content-gap {
    @apply gap-10 sm:gap-16;
  }

  /* -----------------------------------------
     Layout
     ----------------------------------------- */

  /* Flex column container */
  .flex-col-container {
    @apply flex flex-col;
  }

  /* Center items horizontally */
  .flex-center {
    @apply flex items-center;
  }

  /* Space between items */
  .flex-between {
    @apply flex items-center justify-between;
  }

  /* Absolute center horizontally */
  .center-x {
    @apply left-1/2 -translate-x-1/2;
  }

  /* Full-width background via ::before pseudo-element */
  .full-width-bg {
    @apply relative;
  }

  .full-width-bg::before {
    content: "";
    @apply absolute top-0 left-1/2 -translate-x-1/2 w-screen h-full -z-1;
    background-color: var(--color-bg-light);
  }

  /* -----------------------------------------
     Visual Elements
     ----------------------------------------- */

  /* Horizontal divider line */
  .divider {
    @apply block w-full h-px bg-bg;
  }

  .divider-lines {
    @apply block w-full h-px bg-lines;
  }

  /* Logo sizing (responsive) */
  .logo-size {
    @apply h-[17px] w-auto sm:h-auto sm:w-20 md:w-28;
  }
}

svg path,
svg line,
svg circle,
svg rect,
svg polygon {
  vector-effect: non-scaling-stroke;
}

.font-neuebit {
  font-family: 'PP Neue Bit', system-ui, sans-serif;
}